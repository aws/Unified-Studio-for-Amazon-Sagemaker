AWSTemplateFormatVersion: 2010-09-09
Description: Create DataZone Project (basic version - role config added separately)

Parameters:
  DomainId:
    Description: Domain for which project needs to be created
    Type: String
  ProjectProfileId:
    Description: Project Profile id for which we need to create project
    Type: String
  Name:
    Description: Name of the project
    Type: String
  ProjectRoleArn:
    Description: Execution Role for the project
    Type: String
  OwnerRoleArn:
    Description: Owner Role for the project
    Type: String

Resources:
  Project:
    Type: AWS::DataZone::Project
    Properties:
      Description: "DataZone Project for SMUS CLI"
      DomainIdentifier: !Ref DomainId
      Name: !Ref Name
      ProjectProfileId: !Ref ProjectProfileId
      customerProvidedRoleConfigs:
        - roleArn: !Ref ProjectRoleArn
          roleDesignation: PROJECT_OWNER
      membershipAssignments:
        - designation: PROJECT_OWNER
          member:
            groupIdentifier: !Ref OwnerRoleArn
Outputs:
  ProjectId:
    Description: "DataZone Project ID"
    Value: !GetAtt Project.Id
    Export:
      Name: !Sub '${AWS::StackName}-ProjectId'
